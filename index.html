<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
          appId: "cf532c5e-5be2-4b00-ab6d-3d3d72ca9124",
        });
      });
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claudio's OneSignal Web Demo</title>
    <link rel="icon" type="image/png" href="assets/images/icon_with_25_percent_margin.png">
    
    <!-- External Stylesheets -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/popups.css">
    <link rel="stylesheet" href="assets/css/notifications.css">
</head>
<body>
    <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Login Popup -->
    <div id="login-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h2>Login</h2>
                <button class="close-btn" onclick="closeLoginPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <label for="username-input">Username:</label>
                <input type="text" id="username-input" placeholder="Enter your username" />
                <div class="popup-buttons">
                    <button class="btn popup-login-btn" onclick="performLogin()">Login</button>
                    <button class="btn popup-cancel-btn" onclick="closeLoginPopup()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Logout Popup -->
    <div id="logout-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h2>Logout</h2>
                <button class="close-btn" onclick="closeLogoutPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <p style="margin-bottom: 1.5rem; color: white; font-size: 1.1rem;">Are you sure you want to logout?</p>
                <div class="popup-buttons">
                    <button class="btn popup-login-btn" onclick="performLogout()">Logout</button>
                    <button class="btn popup-cancel-btn" onclick="closeLogoutPopup()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modify Tags Popup -->
    <div id="add-tag-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h2>Modify Tags</h2>
                <button class="close-btn" onclick="closeAddTagPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <p style="margin-bottom: 1.5rem; color: white; font-size: 1rem; line-height: 1.5; opacity: 0.9;">
                    Provide any key:value pair of string data to add tag to your profile. If wishing to remove a tag simply leave the value as blank.
                </p>
                
                <label for="tag-key-input">Tag Key:</label>
                <input type="text" id="tag-key-input" placeholder="Enter tag key" />
                
                <label for="tag-value-input">Tag Value:</label>
                <input type="text" id="tag-value-input" placeholder="Enter tag value (leave blank to remove)" />
                
                <div class="popup-buttons">
                    <button class="btn popup-login-btn" onclick="performAddTag()">Modify Tag</button>
                    <button class="btn popup-cancel-btn" onclick="closeAddTagPopup()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Tags Popup -->
    <div id="view-tags-popup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h2>View Tags</h2>
                <button class="close-btn" onclick="closeViewTagsPopup()">&times;</button>
            </div>
            <div class="popup-body">
                <p style="margin-bottom: 1.5rem; color: white; font-size: 1rem; line-height: 1.5; opacity: 0.9;">
                    These are the existing tags on record:
                </p>
                
                <div id="tags-container" style="max-height: 300px; overflow-y: auto; margin-bottom: 1.5rem;">
                    <div style="text-align: center; color: rgba(255, 255, 255, 0.7); padding: 2rem;">
                        Loading tags...
                    </div>
                </div>
                
                <div class="popup-buttons">
                    <button class="btn popup-cancel-btn" onclick="closeViewTagsPopup()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="hero">
            <h1>Welcome to the Playground!</h1>
            <p>Interact with the buttons below to see how OneSignal's Web SDK works.</p>
        </div>

        <div class="buttons-grid">
            <button id="login-btn" class="btn" onclick="handleClick('login')">Login</button>
            <button id="logout-btn" class="btn" onclick="handleClick('logout')">Logout</button>
            <button id="add-tag-btn" class="btn" onclick="handleClick('modify-tags')">Modify Tags</button>
            <button id="remove-tag-btn" class="btn" onclick="handleClick('view-tag')">View Tags</button>
            <button id="add-email-btn" class="btn" onclick="handleClick('add-email')">Add Email</button>
            <button id="add-sms-btn" class="btn" onclick="handleClick('add-sms')">Add SMS</button>
            <button id="add-event-btn" class="btn" onclick="handleClick('add-event')">Add Event</button>
            <button id="send-outcome-btn" class="btn" onclick="handleClick('send-outcome')">Send Outcome</button>
            <button id="custom-demo-btn-1" class="btn" onclick="handleClick('custom-demo-1')">Custom Demo 1</button>
            <button id="custom-demo-btn-2" class="btn" onclick="handleClick('custom-demo-2')">Custom Demo 2</button>
        </div>
    </div>

    <!-- External JavaScript Files -->
    <script src="assets/js/notifications.js"></script>
    <script src="assets/js/onesignal-handlers.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>
